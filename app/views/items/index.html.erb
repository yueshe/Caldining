<%= javascript_include_tag('search.js') %>
<%= javascript_include_tag('add_to_diet.js') %>
<p id="notice"><%= notice %></p>
<h1>Listing Items</h1>

<textarea id="search" name="search_box" cols="25" rows ="1" maxlength="50" placeholder="Search..."></textarea>
<table>
  <thead>
    <tr>
      <th WIDTH="100">Quantity</th>
      <th WIDTH="100">Name</th>
      <th WIDTH="100">Calories</th>
      <th WIDTH="100">Fat</th>
      <th WIDTH="100">Carb</th>
      <th WIDTH="100">Cholesterol</th>
      <th WIDTH="100">Protein</th>
      <th WIDTH="100">Sodium</th>
      <th WIDTH="100">Location</th>
      <th WIDTH="100">Date</th>
      <th colspan="3"></th>
    </tr>
  </thead>
  
  <tbody>
    <% @items.each do |item| %>
      <tr class= "food">
        <td><textarea class = "quantity" cols="5" rows ="1" maxlength="5" placeholder="0.."></textarea></td>
        <td class = "name"><%= link_to item.name, item %></td>
        <td class = "calories"><%= item.calories %></td>
        <td class = "fat"><%= item.fat %></td>
        <td class = 'carbs'><%= item.carb %></td>
        <td class = "cholesterol"><%= item.cholesterol %></td>
        <td class = "protein"><%= item.protein %></td>
        <td class = "sodium"><%= item.sodium %></td>
        <td class = "location"><%= item.location %></td>
        <td class = "date"><%= item.date %></td>
        <td class = "add"><p class = "btn btn-default ">Add to Diet</p></td>
        <td><%= link_to 'Show', item, :class => "btn btn-default"%></td>
        <% if current_user.admin %>
          <td><%= link_to 'Edit', edit_item_path(item), :class => "btn btn-default"%></td>
          <td><%= link_to 'Destroy', item, method: :delete, data: { confirm: 'Are you sure?' }, :class => "btn btn-default"%></td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
<% if current_user.admin %>
  <%= link_to 'New Item', new_item_path, :class => "btn btn-default" %>
<% end %>
<%= link_to 'Show All Halls', halls_path, :class => "btn btn-default" %>
